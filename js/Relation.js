//@ sourceMappingURL=Relation.map
// Generated by CoffeeScript 1.6.1
(function() {

  define([], function() {
    var Collection, Column, Model, Relation, Row, r;
    Model = Backbone.Model;
    Collection = Backbone.Collection;
    Relation = Model.extend({
      initialize: function() {
        this.columns = new Collection({
          model: Column
        });
        return this.rows = new Collection({
          model: Row
        });
      },
      addColumn: function(name) {
        return this.columns.add(new Column({
          name: name
        }));
      },
      addRow: function(values) {
        return this.rows.add(new Row({
          values: values
        }));
      },
      computeMinMax: function() {
        var _this = this;
        return this.columns.each(function(column) {
          return column.set({
            min: _this.rows.min(function(row) {
              return row.values[column.index];
            }),
            max: _this.rows.max(function(row) {
              return row.values[column.index];
            })
          });
        });
      }
    });
    Row = Model.extend();
    Column = Model.extend();
    r = new Relation;
    r.addColumn('Country');
    r.addColumn('Year');
    r.addColumn('Population');
    r.addRow(['India', 1950, 369880000]);
    r.addRow(['China', 1950, 554760000]);
    r.addRow(['United States', 1950, 150697361]);
    r.addRow(['India', 2010, 1150000000]);
    r.addRow(['China', 2010, 1339724852]);
    r.addRow(['United States', 2010, 308745538]);
    r.computeMinMax();
    Relation.example = r;
    return Relation;
  });

}).call(this);
