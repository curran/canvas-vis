//@ sourceMappingURL=readCSV.map
// Generated by CoffeeScript 1.6.1
(function() {

  define(['jquery.csv', 'cv/Relation'], function(csv, Relation) {
    return function(fileName, callback) {
      return $.get(fileName, function(data) {
        var attrNames, name, relation, table, tuple, tuples, _i, _j, _len, _len1;
        table = $.csv.toArrays(data);
        attrNames = _.first(table);
        tuples = _.rest(table);
        relation = new Relation;
        for (_i = 0, _len = attrNames.length; _i < _len; _i++) {
          name = attrNames[_i];
          relation.addAttribute(name);
        }
        for (_j = 0, _len1 = tuples.length; _j < _len1; _j++) {
          tuple = tuples[_j];
          relation.addTuple(tuple);
        }
        relation.computeMinMax();
        return callback(null, relation);
      });
    };
  });

}).call(this);
